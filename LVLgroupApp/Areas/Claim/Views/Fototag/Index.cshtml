@inject Microsoft.AspNetCore.Mvc.Localization.IViewLocalizer localizer
@{
    ViewData["Title"] = localizer["Etiquetas de fotos"];
    ViewData["Caption"] = localizer["Configure aqui as suas etiquetas de fotos."];
}
@using Core.Constants
@using LVLgroupApp.Areas.Claim.Models.Fototag
@model FototagViewModel

<div class="card">
    <div class="col-sm-12" style="padding:20px">
        @if ((AuthorizationService.AuthorizeAsync(User, Permissions.Fototags.Create)).Result.Succeeded)
        {
            <a onclick="jQueryModalGet('/claim/fototag/OnGetCreateOrEdit','@localizer["Criar etiqueta de fotos"]', event, 'modal-md')" class="btn btn-success mb-3">
                <i class="fa fa-plus-square"></i> @localizer["Criar"]
            </a>
        }

        <a id="reload" class="btn btn-primary text-white mb-3">
            <i class="fa fas fa-bolt"></i>
            @localizer["Recarregar"]
        </a>
    </div>

    <div id="viewAll" class="card-body table-responsive">
    </div>
</div>

@section Scripts
{

    <script>

        $(document).ready(function () {
            $("#fototagTable").DataTable();
            loadData();
            $('#reload').on('click', function () {
                loadData();
            });
        });

        function loadData() {
            $('#viewAll').load('/claim/fototag/LoadAll');
        }

    </script>
}